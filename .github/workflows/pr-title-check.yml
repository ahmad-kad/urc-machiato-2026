name: Validate PR Title Format

on:
  pull_request:
    types: [opened, edited, synchronize]

permissions:
  contents: read
  pull-requests: write

jobs:
  title-check:
    runs-on: ubuntu-latest
    steps:
      - name: Validate conventional commit format
        uses: amannn/action-semantic-pull-request@v5
        with:
          types: |
            feat
            fix
            docs
            style
            refactor
            test
            chore
            ci
          requireScope: false
          validateSingleCommit: false
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      - name: Log title validation
        if: success()
        run: echo "✅ PR title follows conventional commit format"
      - name: Error handler
        if: failure()
        run: |
          echo "⚠️ PR title doesn't follow conventional format."
          echo "Expected format: type(scope): description"
          echo "Examples: feat(navigation): add obstacle avoidance, fix(slam): resolve memory leak"
