# Camera Calibration Configuration Manager
# Central configuration for camera calibration data used across subsystems

camera_calibration:
  # Shared calibration data location
  data_directory: "$(find-pkg-share autonomy_computer_vision)/../../../calibration_data"

  # Camera definitions with calibration status
  cameras:
    oak_d:
      type: "rgb-d"
      calibration_file: "oak_d/intrinsics.yaml"
      last_calibrated: "2025-10-16"
      reprojection_error: 0.85
      affected_subsystems: ["computer_vision", "slam", "navigation"]

    realsense_d435i:
      type: "rgb-d"
      calibration_file: "realsense_d435i/camera_matrix.npy"
      last_calibrated: "2025-10-16"
      depth_accuracy: 0.02  # meters at 1m
      affected_subsystems: ["slam", "computer_vision"]

    pi_camera:
      type: "rgb"
      calibration_file: "pi_camera/camera_params.json"
      gimbal_calibrated: true
      affected_subsystems: ["computer_vision", "navigation"]

  # Cross-subsystem calibration dependencies
  subsystem_dependencies:
    computer_vision:
      requires: ["oak_d", "pi_camera"]
      calibration_events: ["intrinsic_calibration", "gimbal_calibration"]

    slam:
      requires: ["oak_d", "realsense_d435i"]
      calibration_events: ["stereo_calibration", "depth_alignment"]

    navigation:
      requires: ["pi_camera"]
      calibration_events: ["gimbal_calibration", "hand_eye_calibration"]

  # Validation requirements
  validation:
    min_reprojection_error: 1.0  # pixels
    max_depth_error: 0.02       # meters
    recalibration_interval: 30   # days

# Parameter sharing across packages
calibration_topics:
  calibration_status: "/calibration/status"
  recalibration_request: "/calibration/recalibrate"
  camera_intrinsics: "/camera/intrinsics"
  camera_extrinsics: "/camera/extrinsics"
